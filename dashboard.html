<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DebtPilot – Dashboard</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="dashboard-wrapper">
    <!-- Sidebar removed for streamlined dashboard -->
    <!-- Main content -->
    <main class="dashboard-content">
      <div class="dashboard-header">
        <!-- Back to Home button -->
        <a href="index.html" class="btn btn-secondary" style="margin-right:1rem;">← Home</a>
        <h1>Control Center <span class="mode-badge" id="mode-badge">AVALANCHE MODE</span></h1>
        <div class="dashboard-actions">
          <a href="profile.html" class="btn btn-secondary" style="margin-right:0.5rem;">Profile</a>
          <button class="btn btn-primary" id="addCardBtn">+ Add Card</button>
        </div>
      </div>
      <!-- Metrics -->
      <section class="metrics-grid">
        <div class="metric-card">
          <div class="metric-value" id="metric-total-debt">$0</div>
          <div class="metric-label">Total Debt</div>
        </div>
        <div class="metric-card">
          <div class="metric-value" id="metric-monthly-interest">$0</div>
          <div class="metric-label">Monthly Interest</div>
        </div>
        <div class="metric-card">
          <div class="metric-value" id="metric-min-pay">$0</div>
          <div class="metric-label">Min. Payment</div>
        </div>
        <div class="metric-card">
          <div class="metric-value" id="metric-active-cards">0</div>
          <div class="metric-label">Active Cards</div>
        </div>
      </section>
      <!-- Promo alert -->
      <div class="promo-alert" id="promo-alert">
        <div class="alert-message" id="promo-message">
          <!-- Message set via JS -->
        </div>
        <div class="alert-actions">
          <button class="btn btn-secondary" id="adjustPlanBtn">Adjust Plan</button>
          <button class="btn btn-secondary" id="dismissAlertBtn">Dismiss</button>
        </div>
      </div>
      <!-- Budget Section -->
      <section class="budget-section">
        <h2>Your Budget</h2>
        <input type="number" id="budget-input" placeholder="Enter monthly budget" style="width:100%;padding:0.5rem;background-color:#111;border:1px solid #333;border-radius:6px;color:#ddd;margin-bottom:1rem;" />
        <div class="budget-bar">
          <div class="bar-min" id="budget-bar-min" style="width:0%"></div>
          <div class="bar-extra" id="budget-bar-extra" style="left:0;width:0%"></div>
        </div>
        <div class="budget-details">
          <div>Min: <span id="budget-min-display">$0</span></div>
          <div>Extra to Focus Card: <span id="budget-extra-display">$0</span></div>
        </div>
      </section>
      <!-- Strategy Selection -->
      <section id="strategy" class="strategy-section">
        <div class="strategy-card" data-mode="avalanche">
          <h3>Avalanche</h3>
          <p>Highest APR first</p>
        </div>
        <div class="strategy-card" data-mode="snowball">
          <h3>Snowball</h3>
          <p>Smallest balance first</p>
        </div>
        <div class="strategy-card" data-mode="manual">
          <h3>Manual</h3>
          <p>You choose priority</p>
        </div>
      </section>
      <!-- Cards list -->
      <section id="cards" class="cards-section">
        <h2 style="margin-bottom:1rem;font-size:1.2rem;">Your Credit Cards</h2>
        <div class="cards-list" id="cards-list">
          <!-- Card items added via JS -->
        </div>
      </section>
      <!-- Timeline & What-If -->
      <section id="timeline" class="timeline-section">
        <div class="timeline-chart">
          <h3 style="margin-bottom:0.5rem;">Payoff Timeline</h3>
          <svg id="timeline-svg"></svg>
          <div class="timeline-info">
            <div>Debt Free By<br><strong id="debt-free-date">—</strong></div>
            <div>Total Interest<br><strong id="total-interest">—</strong></div>
          </div>
        </div>
        <div class="what-if">
          <h3 style="margin-bottom:0.5rem;">What‑If Scenarios</h3>
          <div id="what-if-list">
            <!-- Scenarios generated by JS -->
          </div>
        </div>
      </section>
      <!-- AI Insights -->
      <section id="insights" class="insights-section">
        <h2>AI Insights & Recommendations</h2>
        <div id="insights-list">
          <!-- Insights populated via JS -->
        </div>
      </section>
    </main>
  </div>

  <!-- Templates or hidden elements for card input etc. can go here -->
  <div id="card-modal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;">
    <div style="background:#0f0f0f;padding:1.5rem;border-radius:10px;width:90%;max-width:400px;">
      <h3 style="margin-bottom:1rem;">Add a Card</h3>
      <form id="card-form" style="display:flex;flex-direction:column;gap:0.75rem;">
        <div>
          <label for="card-bank" style="font-size:0.85rem;color:#888;">Bank</label>
          <input id="card-bank" type="text" placeholder="Chase, AmEx, Citi…" required style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <div>
          <label for="card-name" style="font-size:0.85rem;color:#888;">Card nickname</label>
          <input id="card-name" type="text" placeholder="Freedom, Blue Cash…" required style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <div>
          <label for="card-balance" style="font-size:0.85rem;color:#888;">Balance</label>
          <input id="card-balance" type="number" step="0.01" placeholder="0" required style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <div>
          <label for="card-apr" style="font-size:0.85rem;color:#888;">APR %</label>
          <input id="card-apr" type="number" step="0.01" placeholder="0" required style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <div>
          <label for="card-min" style="font-size:0.85rem;color:#888;">Minimum payment</label>
          <input id="card-min" type="number" step="0.01" placeholder="0" required style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <div>
          <label for="card-due" style="font-size:0.85rem;color:#888;">Due date (YYYY-MM-DD)</label>
          <input id="card-due" type="date" required style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <div>
          <label for="card-promo" style="font-size:0.85rem;color:#888;">Promo end date (optional)</label>
          <input id="card-promo" type="date" style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <div style="display:flex;flex-direction:column;gap:0.25rem;">
          <label style="font-size:0.85rem;color:#888;">Autopay &amp; No Minimum</label>
          <div style="display:flex;gap:1rem;align-items:center;">
            <label style="font-size:0.85rem;color:#aaa;">
              <input id="card-autopay" type="checkbox" style="margin-right:0.3rem;" /> Autopay enabled
            </label>
            <label style="font-size:0.85rem;color:#aaa;">
              <input id="card-nomin" type="checkbox" style="margin-right:0.3rem;" /> No minimum due
            </label>
          </div>
        </div>
        <div>
          <label for="card-type" style="font-size:0.85rem;color:#888;">Balance type</label>
          <select id="card-type" style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
            <option value="purchase">Purchase</option>
            <option value="cash">Cash advance</option>
            <option value="transfer">Balance transfer</option>
          </select>
        </div>
        <div>
          <label for="card-limit" style="font-size:0.85rem;color:#888;">Credit limit</label>
          <input id="card-limit" type="number" step="0.01" placeholder="0" style="width:100%;padding:0.5rem;background:#111;border:1px solid #333;border-radius:6px;color:#ddd;">
        </div>
        <button type="submit" class="btn btn-primary">Add card</button>
        <button type="button" id="closeModalBtn" class="btn btn-secondary">Cancel</button>
      </form>
    </div>
  </div>
  <script type="module" src="js/dashboard.js"></script>
</body>
</html>